<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kablo</title>
  <style>
    body {
      background-color: #000;
      color: #fff;
      font-family: Arial, sans-serif;
      margin: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      text-align: center;
    }

    a.logo-link {
      text-decoration: none;
      display: block;
    }

    .logo {
      display: block;
      height: auto;
      width: 100px;
      margin-top: 40px;
      cursor: pointer;
    }

    .video-container {
      position: relative;
      width: 90%;
      max-width: 900px;
      aspect-ratio: 16 / 9;
      margin: 40px 0;
    }

    iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
    }

    .counter-container {
      margin-bottom: 30px;
      font-size: 0.875rem;
      padding: 0 15px;
    }

    .number-wrapper {
      display: inline-block;
      position: relative;
    }

    /* ↓↓↓ Dimmed underline animation ↓↓↓ */
    .underline {
      position: absolute;
      bottom: -5px;
      left: 0;
      height: 1px;
      width: 100%;
      background: linear-gradient(90deg, rgba(255,255,255,0.2), rgba(255,255,255,0.75));
      transform: scaleX(0);
      transform-origin: left center;
      animation: lineGrow 4s ease-in-out infinite;
    }

    @keyframes lineGrow {
      from { transform: scaleX(0); opacity: 0.2; }
      90%  { transform: scaleX(1); opacity: 0.75; }
      to   { transform: scaleX(1); opacity: 0.2; }
    }
    /* ↑↑↑ Dimmed underline animation ↑↑↑ */

    .contact {
      font-size: 0.875rem;
      margin-bottom: 60px;
      padding: 0 15px;
    }

    /* speaker icon style */
    .sound-toggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: rgba(255,255,255,0.2);
      border-radius: 50%;
      padding: 10px;
      cursor: pointer;
      transition: background 0.3s;
    }
    .sound-toggle:hover {
      background: rgba(255,255,255,0.4);
    }
    .sound-toggle svg {
      width: 24px;
      height: 24px;
      fill: #fff;
    }

    @media (max-width: 1024px) {
      .logo { width: 110px; }
    }

    @media (max-width: 600px) {
      .logo { width: 85px; }
      .counter-container, .contact { font-size: 0.8rem; padding: 0 20px; }
    }
  </style>
</head>
<body>
  <a href="/" class="logo-link">
    <img src="logo.svg" alt="Kablo Logo" class="logo" />
  </a>

  <div class="video-container">
    <iframe
      id="kabloVideo"
      src="https://www.youtube.com/embed/-1fuLRMWKOY?autoplay=1&mute=1&loop=1&playlist=-1fuLRMWKOY&controls=0&modestbranding=1&showinfo=0&rel=0&start=0&end=25&enablejsapi=1"
      allow="autoplay; encrypted-media"
      allowfullscreen>
    </iframe>
  </div>

  <div class="counter-container">
    Over 
    <span class="number-wrapper">
      <span id="counter">312,440,000</span>
      <div class="underline"></div>
    </span>
    plastic bottles saved from landfills.
  </div>

  <div class="contact">
    Interested in wholesale? Email
    <a href="mailto:contact@shopkablo.com" style="color:#fff;text-decoration:none;">contact@shopkablo.com</a>
  </div>

  <!-- Speaker icon for toggling sound -->
  <div class="sound-toggle" onclick="toggleMute()">
    <svg id="soundIcon" viewBox="0 0 24 24" aria-hidden="true">
      <!-- Default muted icon -->
      <path d="M3 9v6h4l5 5V4L7 9H3z"></path>
      <path d="M16.5 12c0-1.77-.77-3.37-2-4.47v8.94c1.23-1.1 2-2.7 2-4.47zM14.5 3.23v2.06c2.89 1.07 5 3.9 5 7.71s-2.11 6.64-5 7.71v2.06c4.01-1.19 7-5 7-9.77s-2.99-8.58-7-9.77z"></path>
    </svg>
  </div>

  <script>
    // --- Continuous Counter Logic ---
    const baseCount = 312440000; // starting number
    const startDate = new Date('2024-01-01T00:00:00Z'); // date when counting started (UTC)
    const ratePerSecond = 0.25; // growth rate — 1 bottle every 4 seconds

    const counterElement = document.getElementById("counter");

    function updateCounter() {
      const now = new Date();
      const secondsSinceStart = Math.floor((now - startDate) / 1000);
      const totalCount = baseCount + secondsSinceStart * ratePerSecond;
      counterElement.textContent = Math.floor(totalCount).toLocaleString();
    }

    updateCounter();
    setInterval(updateCounter, 1000);

    // --- YouTube player mute/unmute logic ---
    let player;
    function onYouTubeIframeAPIReady() {
      player = new YT.Player('kabloVideo', {
        events: {
          'onReady': function(event) {
            // ensure video starts muted
            event.target.mute();
          }
        }
      });
    }

    function toggleMute() {
      if (!player) return;
      if (player.isMuted()) {
        player.unMute();
        // change icon to represent unmuted state
        document.getElementById('soundIcon').innerHTML =
          '<path d="M3 9v6h4l5 5V4L7 9H3z"></path>' +
          '<path d="M14.5 6.5v2.06c1.96.75 3.5 2.79 3.5 5.44s-1.54 4.69-3.5 5.44v2.06c3.14-.98 5.5-3.99 5.5-7.5s-2.36-6.52-5.5-7.5z"></path>' +
          '<path d="M16.5 12c0-1.77-.77-3.37-2-4.47v8.94c1.23-1.1 2-2.7 2-4.47z"></path>';
      } else {
        player.mute();
        // change icon to represent muted state
        document.getElementById('soundIcon').innerHTML =
          '<path d="M3 9v6h4l5 5V4L7 9H3z"></path>' +
          '<path d="M16.5 12c0-1.77-.77-3.37-2-4.47v8.94c1.23-1.1 2-2.7 2-4.47zM14.5 3.23v2.06c2.89 1.07 5 3.9 5 7.71s-2.11 6.64-5 7.71v2.06c4.01-1.19 7-5 7-9.77s-2.99-8.58-7-9.77z"></path>';
      }
    }

    // Load YouTube IFrame Player API asynchronously
    (function() {
      const tag = document.createElement('script');
      tag.src = "https://www.youtube.com/iframe_api";
      const firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
    })();
  </script>
</body>
</html>
